check for oddness of window size

add downscaling and smoothing functions